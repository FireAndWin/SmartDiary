<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
            label,textarea {
            font-size: .8rem;
            letter-spacing: 1px;
        }
        textarea {
            padding: 1px;
            line-height: 1.5;
            border-radius: 5px;
            border: 1px solid #ccc;
            box-shadow: 1px 1px 1px #999;
        }

        label {
            margin-bottom: 0px;
        }
    </style>
</head>
<body>
    <label for="story">请在下方输入文本:</label>
        <br>
        <textarea id="valueTxtInput" name="story"
          rows="8" cols="30" autocomplete="on" placeholder="请输入文本" autofocus="true">
        </textarea>
    <script>

        /*
        * 说明:
        * 这个是最基本的文本记录模板,
        * 不需要模板信息(所以写起来很简单)
        * 返回值是个json字符串:
        * 对应的js对象为:
        {
            "txtContent":"这个地方就是实际记录的文本,它的键是txtContent",
        }
        */

        //获取记录值,直接放到控件上
        let json_recordValue=window.androidObject.getAndroidRecordValue();
        //json_recordValue="{\"txtContent\":\"undefinedffffff \\ndede \"}";
        if(json_recordValue===""){
            a={
            "txtData":"",
            };
            json_recordValue=JSON.stringify(a);
        };
        //let recordValue=JSON.parse(json_recordValue);
        let recordValue=eval("("+json_recordValue+")");
        document.write(recordValue.txtData);
        const returnObj={
            "txtData":"",
        };

        //获取root dtextarea
        let valueTxtInput=document.getElementById('valueTxtInput');
        //valueTxtInput.value=recordValue["txtData"];
        valueTxtInput.value=json_recordValue;
        returnObj['txtData']=valueTxtInput.value;

        valueTxtInput.onchange=function(){
            returnObj['txtData']=valueTxtInput.value;
        }
        window.getJSRecordView=function(){
            returnObj['txtData']=valueTxtInput.value;
            return JSON.stringify(returnObj);
        }
    </script>
</body>
</html>


