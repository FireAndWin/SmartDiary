js如何调用安卓代码:
	
	//1.安卓WebView加载基本的html字符串
	webView.loadDataWithBaseURL(null, recordView, "text/html", "utf-8", null);
	
	//2.准备好一个桥接的对象
	class AndroidObject{
		
		@JavascriptInterface
		public String getAndroidData() {
			return androidData;
		}
	}
	
	//3.安卓的webview把这个桥接对象给了js
	AndroidObject ao=new AndroidObject();
	webView.addJavascriptInterface(ao,"androidBridge");
	
	
	//4.js找到桥接对象,调用方法,同时获得返回值
	js:
	var ao=window.androidBridge;
	var result=ao.getAndroidData();


本项目的实现方法:
	1.需求:
		有不同的js(html)页面,每个页面需要的数据也不全相同:
			编辑页面:格式(get_androidFormat);
			记录页面:格式+一个记录项某天的数据(get_androidCellEntry);
			分别展示界面:格式+一个记录项很多天的数据(get_androidCellEntryList)+分析结果(get_androidAnalysis);
			连续展示页面:格式+一个记录项很多天的数据+分析结果;
			总体展示页面:很多记录项很多天的数据+所有格式;
	
	2.要求:
			1.统一,统一数据在js里的androidBridge应用名称,便于js编写;
			2.简单
	
	3.思路:
			发现webview只需要知道要给js的数据是什么就行,可以忽略掉中间过程;
			webView.setFormat("{a:dedei;b:xduu}")
			webView.setCellEntry(new CellEntry(ede,"dede"))
			webView.setCellEntryList()

	3.实现方法:
			1.按照上面的方法,每次都新建一个对象,设置返回值,然后给了各自的WebView;
			
			
			window.androidBridge.get_androidFormat();
			
			2.我那个方法;
				JsDataLoader js=new JsDataLoader(webView);
				js.add_androidFormat("");
				js.add_androidSystemData();
				
			class JsDataLoader{
			
				WebView webView;
				String format;
				public JsDataLoader(WebView webView){
					this.webView=webView;
					webView.addJavascriptInterface(this,"androidBridge");
				}
				
				public void setFormat(String format){
					this.format=format;
				}
				
				@JavascriptInterface
				public String get_androidFormat(){
					return format;
				}
			}









首先分析一下有哪些地方要用到js,用到的地方详细是怎么回事:

1.编辑模板的时候:
	描述:比如说你要创建一个选择类型的记录项,那么就要增加选择,删除选择,重命名选择,这都是在编辑模板的地方完成的;
	
	js需要的数据:
		原来的模板格式:原来的选择有哪些,在这个基础上编辑;
		模板的js代码:这个就是基础,比如添加按钮,具体选择的html元素显示,还有处理控件的事件,都是这个在做;
		!可能还需要一些安卓的系统数据,比如应用列表;
		
		1.loadDataWithBaseURL
		2. JsDataLoader js=new JsDataLoader();
		2. js.add_androidFormat("");
		3. js.add_androidSystemData();
		
	执行流程:
		安卓端准备好数据,然后加载js,然后js调用安卓的方法获取需要的数据,然后绘制界面,
		然后用户和js交互,触发事件,事件再调用安卓的储存方法;
		
2.在显示记录界面的时候:
	描述:记录界面的核心就是这个记录界面,用来记录数据,上面有很多控件,比如选择;
	
	js需要的数据:
		绘制记录控件需要的js代码,这个从安卓的模板对象中获取;
		模板的格式信息,比如有几个选择,只有根据具体的格式信息,才能绘制出用户预设的选择;
		当天的数据,在修改记录的时候就需要当天,该记录项的数据
		!可能还需要一些安卓的系统数据,比如手机使用时间等等
		
	执行流程:
		安卓端准备好数据,然后加载js,然后js调用安卓的方法获取需要的数据,然后绘制界面,
		然后用户和js交互,触发事件,事件再调用安卓的储存方法;
		
3.在显示一天的数据的时候:
****描述:比如有个记录项是时间分布,在显示的时候就可以放个扇形图上去,比单一的文字好很多,而且还可以结合统计数据,比如高于平均值就用红色显示,低于平局值就用蓝色显示,再比如在文本中可以用红色标注出来那些出现频率很高的词;

****js需要的数据:
		当天数据,这个是肯定的;
		显示数据的js代码(),这个可以在安卓层面拼接在一起,不用安卓的Recyclerview了,整体性更好了,还可以做超链接;
			(根据传入的参数决定显示一天的数据还是多天一起显示)
		统计结果,这个也是要有的,要根据统计结果决定显示效果;
		格式信息,虽然我也不清楚,但是还是加上,可能就要用到;
		
4.在显示单一记录项总的数据的时候:
****描述:比如对于手机使用时间,你想要知道最近的总的情况,就要一个显示总体情况的界面

****js需要的数据:
	一段时间的数据,这是肯定的;
	画图表的js代码,用Echart,就是js库;
	还要有一段分析数据的js代码,这段代码最后要产生数据分析结果,安卓也可以代劳,但是肯定不如纯js定制化的效果好;
	格式信息,这个太重要了;
	
5.在显示总的记录项的时候
****描述:把多个记录项联合显示在一起,整体分析他们,比如相关性,因果性什么的;

****js需要的数据:
	还是各个记录项多天的数据,这个是基础;
	画图表的js代码,这也是肯定的;
	之前分析好的js结果;
	还有分析的代码,这个还是用java吧;

 
 
 
 
 
 
 
 
 
 
 
 